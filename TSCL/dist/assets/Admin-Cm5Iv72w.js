import{i as ne,k as h,E as Ie,r as n,l as le,o as re,j as e,b as v,A as w,B as A,d as W,n as Re}from"./index-KlxDuXca.js";import{R as $,P as Fe}from"./Pagination-CZoS4CI6.js";import{S as de}from"./SavaCancel-DnY9KWLv.js";import{D as $e}from"./DeleteModal-Bq2aEtZp.js";import{S as Be,D as Ue,E as qe}from"./DocumentDownload-Cf_kB8s3.js";import{F as Me,B as Oe}from"./FileUploadButton-Bc1PelCC.js";import{H as Le}from"./HeaderButton-D4Lkrp4E.js";import"./index-BebfzzXM.js";import"./index-BKjO-751.js";import"./index-D_Jj7K4f.js";const We=ne().shape({user_name:h().trim().required("User Name is required"),dept_name:h().required("Department is required"),phone:h().test("len","Phone Number must be 10 characters",s=>s.length===10).required("Phone Number is required"),email:h().email("Invalid Email Id").required("Email Id is required"),address:h().required("Address is required"),login_password:h().required("Password is required"),pincode:h().test("len","Pincode must be 6 characters",s=>s.length===6).required("Pincode is required"),role:h().test("not-select","Please select a Role",s=>s!==""&&s!=="Role"),zone_name:h().optional(),ward_name:Ie().of(h()).nullable().default([])}),Ze=s=>{const{ExistingRoles:D,ExistingEmployees:k,isZone:B,isWard:_}=s,[U,z]=n.useState(""),[C,P]=n.useState([]),{register:p,formState:{errors:r},handleSubmit:q,setValue:b,watch:M}=le({resolver:re(We),mode:"all",register:{ward_name:{multiple:!0}}}),E=M("zone_name");n.useEffect(()=>{if(E){const l=_==null?void 0:_.filter(o=>o.zone_name===E);P(l||[]),b("ward_name","")}else P([])},[E,_]);const I=l=>{const o=l.target.value,u=k.find(x=>x.emp_name===o);u&&(z(""),b("dept_name",u.dept_name),b("phone",u.phone),b("email",u.email),b("address",u.address),b("pincode",u.pincode))},f=l=>{const o=l.target.value,u=D.find(x=>x.role_name===o);z(u?u.role_id:"")},i=async l=>{const o={...l,status:"active",created_by_user:sessionStorage.getItem("name"),role_id:U},u=sessionStorage.getItem("token");try{const x=await v.post(`${w}/user/post`,o,{headers:{Authorization:`Bearer ${u}`}});x.status===200?(A.success(x.data.message),s.toggleModal(),s.handlerefresh()):(console.error("Error in posting data",x),A.error("Failed to Upload"))}catch(x){console.error("Error in posting data",x)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex  justify-center items-center",children:e.jsx("div",{className:"bg-white w-fit h-fit font-lexend m-2",children:e.jsxs("form",{onSubmit:q(i),children:[e.jsxs("div",{className:"border-b-2 border-gray-300 mx-10 my-5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"block text-black text-base font-medium mb-2 col-span-2 whitespace-nowrap",htmlFor:"user_name",children:"Name:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none",id:"user_name",...p("user_name"),onChange:I,children:[e.jsx("option",{value:"",children:"Employee Name"}),k.map(l=>e.jsx("option",{value:l.emp_name,children:l.emp_name},l.emp_id))]})]}),r.user_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.user_name.message})]}),e.jsxs("div",{className:"flex flex-col gap-3 mx-10 ",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"dept_name",children:"Department:"}),e.jsx("input",{type:"text",id:"dept_name",className:"w-6/5 text-end outline-none col-span-2",placeholder:"Department ",...p("dept_name")})]}),r.dept_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.dept_name.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"phone",children:"Phone:"}),e.jsx("input",{type:"text",id:"phone",className:"w-6/5 text-end outline-none col-span-2",placeholder:"Phone Number",...p("phone")})]}),r.phone&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.phone.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"email",children:"Email Id:"}),e.jsx("input",{type:"email",id:"email",className:"text-end outline-none col-span-2",placeholder:"abc@gmail.com",...p("email")})]}),r.email&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.email.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"address",children:"Address:"}),e.jsx("input",{type:"text",id:"address",className:"text-end outline-none col-span-2",placeholder:"Address",...p("address")})]}),r.address&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.address.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"pincode",children:"Pincode:"}),e.jsx("input",{type:"text",id:"pincode",className:"text-end outline-none col-span-2",placeholder:"Pincode",...p("pincode")})]}),r.pincode&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.pincode.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-2",htmlFor:"role",children:"Role:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none",id:"role",...p("role"),onChange:f,children:[e.jsx("option",{value:"",children:"Role"}),D.map(l=>e.jsx("option",{value:l.role_name,children:l.role_name},l.role_id))]})]}),r.role&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.role.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-1",htmlFor:"login_password",children:"Password:"}),e.jsx("input",{type:"password",id:"login_password",className:"text-end outline-none col-span-2",placeholder:"Password",...p("login_password")})]}),r.login_password&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.login_password.message})]}),e.jsx("p",{className:"text-gray-500 my-1",children:"Auto Assign Options :"}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-2",htmlFor:"zone_name",children:"Zone:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none",id:"zone_name",...p("zone_name"),children:[e.jsx("option",{value:"",children:"Zone"}),B.map(l=>e.jsx("option",{value:l.zone_name,children:l.zone_name},l.zone_id))]})]}),r.zone_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.zone_name.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-2",htmlFor:"ward_name",children:"Ward:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none",id:"ward_name",...p("ward_name"),multiple:!0,size:4,children:[e.jsx("option",{disabled:!0,children:"Ward Name"}),C.map(l=>e.jsx("option",{value:l.ward_name,className:"my-0.5 ",children:l.ward_name},l.ward_id))]})]}),r.ward_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:r.ward_name.message})]})]}),e.jsx("div",{className:"py-6",children:e.jsx(de,{onCancel:s.toggleModal})})]})})})},Te=ne().shape({user_name:h().required("User Name is required"),dept_name:h().required("Department is required"),address:h().required("Address is required"),pincode:h().required("Pincode is required"),status:h().test("not-select","Please select an Status",s=>s!==""&&s!=="Status"),role:h().test("not-select","Please select an Role",s=>s!==""&&s!=="Role")}),Ve=s=>{const{ExistingRoles:D,adminId:k,isZone:B,isWard:_}=s,[U,z]=n.useState(null),[C,P]=n.useState(null),[p,r]=n.useState(null),[q,b]=n.useState([]),[M,E]=n.useState([]),I=sessionStorage.getItem("token"),{register:f,formState:{errors:i},handleSubmit:l,setValue:o,watch:u}=le({resolver:re(Te),mode:"all"}),x=d=>{if(d){const j=d.target.value,c=_==null?void 0:_.filter(Z=>Z.zone_name===j);b(c),o("ward_name",[]),z("")}else b([])};n.useEffect(()=>{(async()=>{try{const j=await v.get(`${w}/user/getbyid?user_id=${k}`,{headers:{Authorization:`Bearer ${I}`}}),c=W(j.data.data);o("user_name",c.user_name),o("dept_name",c.dept_name),o("address",c.address),o("pincode",c.pincode),P(c.role),o("role",c.role),o("status",c.status),o("zone_name",c.zone_name),E(c.zone_name),o("ward_name",c.ward_name),z(c.ward_name)}catch(j){console.error("Error fetching data",j)}})()},[k,o]);const Y=d=>{const j=d.target.value,c=D.find(Z=>Z.role_name===j);c&&r(c.role_id)},R=async d=>{const j={...d,role_id:p};try{const c=await v.post(`${w}/user/update?user_id=${k}`,j,{headers:{Authorization:`Bearer ${I}`}});c.status===200?(A.success(c.data.message),P(null),s.toggleModal(),s.handlerefresh()):(console.error("Error in posting data",c),A.error("Failed to Upload"))}catch(c){console.error("Error in posting data",c)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex  justify-center items-center  ",children:e.jsx("div",{className:"bg-white w-fit h-fit  font-lexend m-2",children:e.jsxs("form",{onSubmit:l(R),children:[e.jsxs("div",{className:"border-b-2 border-gray-300 mx-10 my-5",children:[e.jsxs("div",{className:" grid grid-cols-3 gap-3",children:[e.jsx("label",{className:"block text-black text-base font-medium mb-2 col-span-1 whitespace-nowrap",htmlFor:"user_name",children:"Name :"}),e.jsx("input",{type:"text",id:"user_name",className:"mx-2 font-lexend px-2 text-sm text-end outline-none col-span-2",placeholder:"User Name",...f("user_name")})]}),i.user_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.user_name.message})]}),e.jsxs("div",{className:" flex flex-col gap-3 mx-10 my-1 ",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:" text-black text-base font-medium mb-2 col-span-1",htmlFor:"dept_name",children:"Department :"}),e.jsx("input",{type:"text",id:"dept_name",className:"w-6/5 text-end outline-none col-span-2",placeholder:" Department Name",...f("dept_name")})]}),i.dept_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.dept_name.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:" text-black text-base font-medium mb-2 col-span-1",htmlFor:"address",children:"Address :"}),e.jsx("input",{type:"text",id:"address",className:" text-end outline-none col-span-2",placeholder:"Address",...f("address")})]}),i.address&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.address.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("label",{className:" text-black text-base font-medium mb-2 col-span-1",htmlFor:"pincode",children:"Pincode :"}),e.jsx("input",{type:"text",id:"pincode",className:" text-end outline-none col-span-2",placeholder:"Pincode ",...f("pincode")})]}),i.pincode&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.pincode.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:" grid grid-cols-3",children:[e.jsx("label",{className:" text-black text-base font-medium mb-2 col-span-2",htmlFor:"status",children:"Status:"}),e.jsxs("select",{className:"   text-sm text-black border border-gray-900 rounded-lg  border-none outline-none",id:"status",...f("status"),children:[e.jsx("option",{value:"",hidden:!0,children:"Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"InActive"})]})]}),i.status&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.status.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:" grid grid-cols-3",children:[e.jsx("label",{className:" text-black text-base font-medium mb-2 col-span-2",htmlFor:"role",children:"Role:"}),e.jsxs("select",{className:"   text-sm text-black border border-gray-900 rounded-lg  border-none outline-none",id:"role",...f("role"),onChange:Y,children:[e.jsx("option",{value:C,hidden:!0,children:C}),D.map(d=>e.jsx("option",{value:d.role_name,children:d.role_name},d.role_name))]})]}),i.role&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.role.message})]}),e.jsx("p",{className:"text-gray-500",children:"Auto Assign Options : "}),e.jsxs("p",{className:"text-sm text-red-500 -mt-2",children:["Note:"," ",e.jsx("span",{className:"text-xs text-gray-500",children:"if zone value is altered,compulsory to select wards for auto assign"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-2",htmlFor:"zone_name",children:"Zone:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none",id:"zone_name",...f("zone_name"),onChange:x,children:[e.jsx("option",{value:M,disabled:!0,children:M}),B.map(d=>e.jsx("option",{value:d.zone_name,children:d.zone_name},d.zone_id))]})]}),i.zone_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.zone_name.message})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-3",children:[e.jsx("label",{className:"text-black text-base font-medium mb-2 col-span-2",htmlFor:"ward_name",children:"Ward:"}),e.jsxs("select",{className:"text-sm text-black border border-gray-900 rounded-lg border-none outline-none col-span-1 ",id:"ward_name",...f("ward_name"),multiple:!0,size:5,children:[U&&U.map((d,j)=>e.jsx("option",{value:d,disabled:!0,children:d},j)),q.map(d=>e.jsx("option",{value:d.ward_name,className:"my-0.5 ",children:d.ward_name},d.ward_id))]})]}),i.ward_name&&e.jsx("p",{className:"text-red-500 text-xs text-end ",children:i.ward_name.message})]})]}),e.jsx("div",{className:"py-6",children:e.jsx(de,{onCancel:s.toggleModal})})]})})})},He=`user_name,dept_name,phone,email,address,pincode,login_password,status,role,created_by_user
UserName,Department,phone,email@gmail.com,Address,123456,passord,status,role,admin`,lt=({permissions:s})=>{const[D,k]=n.useState(!1),B=s==null?void 0:s.includes("create"),_=s==null?void 0:s.includes("edit"),U=s==null?void 0:s.includes("delete"),z=s==null?void 0:s.includes("download"),[C,P]=n.useState(!1),[p,r]=n.useState(null),[q,b]=n.useState(!1),[M,E]=n.useState(null),[I,f]=n.useState(null),[i,l]=n.useState(null),[o,u]=n.useState(""),[x,Y]=n.useState(1),[R]=n.useState(8),[d,j]=n.useState(1),[c,Z]=n.useState([]),[O,oe]=n.useState([]),[J,ce]=n.useState(null),L=sessionStorage.getItem("token"),[ie,K]=n.useState(null),[Q,X]=n.useState("Bulk Upload"),[me,xe]=n.useState(null),[ee,he]=n.useState([]),[te,pe]=n.useState([]),G=t=>{ce(J===t?null:t)},ue=t=>J===t;n.useEffect(()=>{T(),fe(),Ne(),_e(),ye()},[o,x]);const ge=t=>{t>0&&t<=d&&Y(t)},T=()=>{v.get(`${w}/user/get`,{headers:{Authorization:`Bearer ${L}`}}).then(t=>{const a=W(t.data.data);oe(a);const N=a.filter(g=>Object.values(g).some(m=>m.toString().toLowerCase().includes(o.toLowerCase())));j(Math.ceil(N.length/R));const S=x*R,F=S-R;Z(N.slice(F,S))}).catch(t=>{console.error(t)})},je=()=>{k(!D)},be=()=>{P(!C),r(null)},se=()=>{b(!q),E(null)},fe=async()=>{try{const t=await v.get(`${w}/role/getactive`,{headers:{Authorization:`Bearer ${L}`}}),a=W(t.data.data);f(a)}catch(t){console.error("Error fetching existing Roles:",t)}},Ne=async()=>{try{const t=await v.get(`${w}/employee/getactive`,{headers:{Authorization:`Bearer ${L}`}}),a=W(t.data.data);l(a)}catch(t){console.error("Error fetching existing Department:",t)}},_e=async()=>{try{const t=await v.get(`${w}/zone/getactive`,{headers:{Authorization:`Bearer ${L}`}}),a=W(t.data.data);he(a)}catch(t){console.error("Error fetching existing Department:",t)}},ye=async()=>{try{const t=await v.get(`${w}/ward/getactive`,{headers:{Authorization:`Bearer ${L}`}}),a=W(t.data.data);pe(a)}catch(t){console.error("Error fetching existing Department:",t)}},H=x*R,V=H-R,ae=O.filter(t=>Object.values(t).some(a=>a.toString().toLowerCase().includes(o.toLowerCase()))),ve=ae.slice().reverse().slice(V,H),we=async()=>{try{await v.delete(`${w}/user/delete?user_id=${M}`,{headers:{Authorization:`Bearer ${L}`}}),se(),T(),A.success("Deleted successfully")}catch{A.error("Failed to delete")}},ke=t=>{K(t.target.files[0]),X("Upload")},Se=()=>{Q==="Bulk Upload"?document.getElementById("fileInput").click():De(ie)},De=async t=>{try{const a=new FormData;a.append("file",t),(await v.post(`${w}/user/uploadcsv`,a,{headers:{"Content-Type":"multipart/form-data"}})).status===200?(X("Bulk Upload"),K(null),T(),A.success("Data Uploaded Successfully")):A.error("Data failed to Upload")}catch(a){console.log(a)}},Pe=t=>{xe(t.target.value)},Ee=async t=>{if(t==="csv"){const a=O.map(m=>({user_id:m.user_id,user_name:m.user_name,dept_name:m.dept_name,phone:m.phone,email:m.email,address:m.address,pincode:m.pincode,status:m.status,role:m.role,created_by_user:m.created_by_user})),N=[Object.keys(a[0]).join(","),...a.map(m=>Object.values(m).join(","))].join(`
`),S=new Blob([N],{type:"text/csv;charset=utf-8;"}),F=window.URL.createObjectURL(S),g=document.createElement("a");g.setAttribute("href",F),g.setAttribute("download","Admin_data.csv"),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)}else if(t==="pdf")try{const N=Math.ceil(O.length/30),S=new qe("l","mm","a4");let F=0;for(let g=1;g<=N;g++){const m=(g-1)*30,ze=Math.min(m+30,O.length),Ce=O.slice(m,ze).map(y=>[y.user_id,y.user_name,y.dept_name,y.phone,y.email,y.address,y.pincode,y.status,y.role,y.created_by_user]);S.text(`Page ${g}`,10,F+10),S.autoTable({startY:F+15,head:[["User_Id","User_Name","Dept_Name","Phone","Email","Address","Pincode","Status","Role","CreatedBy"]],body:Ce,theme:"striped"}),g<N&&(S.addPage(),F=10)}S.save("Admin_data.pdf")}catch(a){console.error("Error exporting data:",a)}},Ae=()=>{const t=new Blob([He],{type:"text/csv"}),a=URL.createObjectURL(t),N=document.createElement("a");N.href=a,N.download="bulkupload_template.csv",N.click(),URL.revokeObjectURL(a)};return e.jsxs(n.Fragment,{children:[e.jsx("div",{className:"  bg-blue-100 overflow-y-auto no-scrollbar",children:e.jsxs("div",{className:"h-screen",children:[e.jsxs("div",{className:"flex flex-row items-center md:justify-end gap-3 p-2 mt-3 mx-8 flex-wrap",children:[e.jsx(Be,{value:o,onChange:t=>u(t.target.value),placeholder:"Search Admin"}),B&&e.jsx(Me,{onChange:ke,buttonText:Q,accept:".csv",onClick:Se}),z&&e.jsx(Ue,{selectedDoc:me,onChange:Pe,exportData:Ee})]}),e.jsx(Le,{title:"TSCL Admin",hasCreatePermission:B,onClick:()=>k(!0)}),e.jsx("div",{className:"bg-white mx-4 rounded-lg my-3  h-3/5 ",children:e.jsx("div",{className:"overflow-x-auto no-scrollbar",children:e.jsxs("table",{className:"w-full  mt-3",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-300",children:[e.jsx("th",{className:"py-2",children:e.jsx("p",{className:" mx-6 my-2 font-lexend font-semibold whitespace-nowrap",children:"#"})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["Username ",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["Department",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-3  my-2 font-lexend font-semibold whitespace-nowrap",children:["Phone",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["Email",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["Status",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["Role",e.jsx($,{})]})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-2 items-center justify-start mx-1  my-2 font-lexend font-semibold whitespace-nowrap",children:["CreatedBy",e.jsx($,{})]})}),e.jsx("th",{children:e.jsx("div",{className:"mx-1 my-3 text-start font-lexend font-semibold whitespace-nowrap",children:"Action"})})]})}),e.jsx("tbody",{children:ve.map((t,a)=>e.jsxs("tr",{className:"border-b-2 border-gray-300",children:[e.jsx("td",{className:"",children:e.jsxs("p",{className:"text-center text-sm mx-4 my-2 font-lexend whitespace-nowrap  text-gray-700",children:[" ",V+a+1<10?`0${V+a+1}`:V+a+1]})}),e.jsx("td",{children:e.jsx("p",{className:" mx-1  my-2 font-lexend whitespace-nowrap text-start text-sm capitalize text-gray-700",children:t.user_name})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm  mx-1  my-2  font-lexend whitespace-nowrap capitalize text-gray-700",children:t.dept_name})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm mx-3  my-2 font-lexend whitespace-nowrap capitalize text-gray-700",children:t.phone})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm mx-1  my-2 font-lexend whitespace-nowrap capitalize text-gray-700",children:t.email})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm mx-1  my-2 font-lexend whitespace-nowrap capitalize text-gray-700",children:t.status})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm mx-1  my-2 font-lexend whitespace-nowrap capitalize text-gray-700",children:t.role})}),e.jsx("td",{children:e.jsx("p",{className:"text-start text-sm mx-1  my-2 font-lexend whitespace-nowrap capitalize text-gray-700",children:t.created_by_user})}),e.jsx("td",{children:e.jsxs("div",{className:"flex justify-start mx-1.5 my-3",children:[e.jsx(Re,{onClick:()=>G(a)}),ue(a)&&e.jsxs("div",{className:" bg-white shadow-md rounded-lg ml-1",children:[_&&e.jsx("button",{className:"block px-3 py-1.5 text-sm text-black hover:bg-gray-200 w-full text-left",onClick:()=>{P(!0),r(t.user_id),G()},children:"Edit"}),U&&e.jsx("button",{className:"block px-3 py-1.5 text-sm text-black hover:bg-gray-200 w-full text-left",onClick:()=>{b(!0),E(t.user_id),G()},children:"Delete"})]})]})})]},a))})]})})}),e.jsxs("div",{className:" my-3 mb-5 mx-7",children:[e.jsx(Oe,{handleDownload:Ae}),e.jsx(Fe,{Length:O.length,currentPage:x,totalPages:d,firstIndex:V,lastIndex:H,paginate:ge,hasNextPage:H>=ae.length})]})]})}),D&&e.jsx(Ze,{toggleModal:je,handlerefresh:T,ExistingRoles:I,ExistingEmployees:i,isZone:ee,isWard:te}),C&&e.jsx(Ve,{toggleModal:be,handlerefresh:T,ExistingRoles:I,adminId:p,isZone:ee,isWard:te}),q&&e.jsx($e,{toggleDeleteModal:se,delete:we})]})};export{lt as default};
